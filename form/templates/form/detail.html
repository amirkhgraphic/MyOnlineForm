{% extends 'base.html' %}

{% block title %}جزئیات فرم - {{ form.name }}{% endblock %}

{% block content %}
    <div class="card shadow p-4">
        <h1 class="text-center mb-4">{{ form.name }}</h1>
        <h2>زمان‌های موجود برای رزرو</h2>
        <ul class="list-group">
            {% for slot in time_slots %}
                <li class="list-group-item d-flex justify-content-between align-items-center">
                    <span>{{ slot.datetime }}</span>
                    {% if slot.answer %}
                        <p>{% url 'form:book-time-slot' form.slug slot.id %}</p>
                        <button class="btn btn-danger" disabled>رزرو شده</button>
                    {% elif slot.is_passed %}
                        <p>{% url 'form:book-time-slot' form.slug slot.id %}</p>
                        <button class="btn btn-secondary" disabled>منفضی شده</button>
                    {% else %}
                        <a href="{% url 'form:book-time-slot' form.slug slot.id %}" class="btn btn-primary">رزرو</a>
                    {% endif %}
                </li>
            {% empty %}
                <li class="list-group-item d-flex justify-content-between align-items-center">
                    <p class="w-100 text-muted text-center fst-italic mt-3">زمانی برای این فرم «<b>{{ form.name }}</b>» تعریف نشده‌است</p>
                </li>
            {% endfor %}
        </ul>
    </div>
{% endblock %}
